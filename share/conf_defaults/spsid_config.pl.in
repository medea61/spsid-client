# DO NOT EDIT THIS FILE
# All site-specific configuration should be stored in spsid_siteconfig.pl

if( defined($ENV{'SPSID_PERLLIBDIRS'}) ) {
    unshift(@INC, split(/,/, $ENV{'SPSID_PERLLIBDIRS'}));
}
else {
    unshift(@INC, split(/,/, @perllibdirs@));
}




$SPSID::Config::backend = 'SPSID::Backend::SQL';

             

@SPSID::Config::object_validators =
    (sub {
         my $attr = shift;
         if( $attr->{'spsid.object.class'} =~ /^SIAM\:\:/o ) {
             foreach my $name ('siam.object.complete') {
                 if( not defined($attr->{$name}) ) {
                     die('Missing attribute: ' . $name .
                         ' in spsid.object.id=' . $attr->{'spsid.object.id'});
                 }
             }
         }
     },
    );

                               
# spsid.object.id is not listed here because it's validated and created
# explicitly
$SPSID::Config::common_attributes =
{
 'mandatory' =>
 {
  'spsid.object.class' => 1,
  'spsid.object.container' => 1,
 },
};


$SPSID::Config::class_attributes =
{
 'SIAM' =>
 {
  'single_instance' => 1,
  'root_object' => 1,
  'read_only' => 1,
 },

 'SIAM::Contract' =>
 {
  'mandatory' =>
  {
   'siam.contract.inventory_id' => 1,
   'siam.contract.customer_name' => 1,
  },
  'unique' =>
  {
   'siam.contract.inventory_id' => 1,
  },
  'contained_in' => {'SIAM' => 1},
  'display' =>
  {
   'class_descr' => 'Contracts',
   'sequence' => 110,
   'name_attr' => 'siam.contract.inventory_id',
   'info_attr' => ['siam.contract.customer_name'],
   'attr_help' =>
   {
    'siam.contract.inventory_id' => 'Contract number in the billing system',
    'siam.contract.customer_name' => 'Customer name',
   },
  },
 },

 'SIAM::Service' =>
 {
  'mandatory' =>
  {
   'siam.svc.product_name' => 1,
   'siam.svc.type' => 1,
   'siam.svc.inventory_id' => 1,
  },
  'unique' =>
  {
   'siam.svc.inventory_id' => 1,
  },
  'contained_in' => {'SIAM::Contract' => 1},
  'display' =>
  {
   'class_descr' => 'Services',
   'sequence' => 120,
   'name_attr' => 'siam.svc.inventory_id',
   'info_attr' => ['siam.svc.type',
                   'siam.svc.product_name'],
   'attr_help' =>
   {
    'siam.svc.product_name' => 'Service product name',
    'siam.svc.type' => 'Service type',
    'siam.svc.inventory_id' => 'Service ID in the billing system',
   },
  },
 },

 'SIAM::ServiceUnit' =>
 {
  'mandatory' =>
  {
   'siam.svcunit.name' => 1,
   'siam.svcunit.type' => 1,
   'siam.svcunit.inventory_id' => 1,
  },
  'unique' =>
  {
   'siam.svcunit.inventory_id' => 1,
  },
  'contained_in' => {'SIAM::Service' => 1},
  'display' =>
  {
   'class_descr' => 'Service Units',
   'sequence' => 130,
   'name_attr' => 'siam.svcunit.name',
   'info_attr' => ['siam.svcunit.type',
                   'siam.svcunit.inventory_id'],
   'attr_help' =>
   {
    'siam.svcunit.name' => 'Service Unit name',
    'siam.svcunit.type' => 'Service Unit type',
    'siam.svcunit.inventory_id' => 'Service Unit ID'
   },
  },
 },

 'SIAM::ServiceComponent' =>
 {
  'mandatory' =>
  {
   'siam.svcc.name' => 1,
   'siam.svcc.type' => 1,
   'siam.svcc.inventory_id' => 1,
   'siam.svcc.device_id' => 1,
  },
  'unique' =>
  {
   'siam.svcc.inventory_id' => 1,
  },
  'contained_in' => {'SIAM::ServiceUnit' => 1},
  'object_ref' =>  {'siam.svcc.device_id' => 'SIAM::Device'},
  'no_children' => 1,
  'display' =>
  {
   'class_descr' => 'Service Components',
   'sequence' => 140,
   'name_attr' => 'siam.svcc.name',
   'info_attr' => ['siam.svcc.type',
                   'siam.svcc.inventory_id'],
   'attr_help' =>
   {
    'siam.svcc.name' => 'Service Component name',
    'siam.svcc.type' => 'Service Component type',
    'siam.svcc.inventory_id' => 'Service Component ID',
    'siam.svcc.device_id' => 'Associated device',    
   },
  },
 },
 
 'SIAM::Device' =>
 {
  'mandatory' =>
  {
   'siam.device.inventory_id' => 1,
   'siam.device.name' => 1,
  },
  'unique' =>
  {
   'siam.device.inventory_id' => 1,
   'siam.device.name' => 1,
  },
  'contained_in' => {'SIAM' => 1},
  'no_children' => 1,
  'display' =>
  {
   'class_descr' => 'Devices',
   'sequence' => 150,
   'name_attr' => 'siam.device.name',
   'info_attr' => ['siam.device.inventory_id'],
   'attr_help' =>
   {
    'siam.device.name' => 'Device name',
    'siam.device.inventory_id' => 'Device ID',
   },
  },
 },

 'SIAM::AccessScope' =>
 {
  'mandatory' =>
  {
   'siam.scope.name' => 1,
   'siam.scope.applies_to' => 1,
  },
  'unique' =>
  {
   'siam.scope.name' => 1,
  },
  'contained_in' => {'SIAM' => 1},
 },

 'SIAM::ScopeMember' =>
 {
  'mandatory' =>
  {
   'siam.scmember.object_id' => 1,
  },
  'contained_in' => {'SIAM::AccessScope' => 1},
  'object_ref' => {'siam.scmember.object_id' => '*'},
  'no_children' => 1,
 },

 'SIAM::User' =>
 {
  'mandatory' =>
  {
   'siam.user.uid' => 1,
  },
  'unique' =>
  {
   'siam.user.uid' => 1,
  },
  'contained_in' => {'SIAM' => 1},
 },

 'SIAM::Privilege' =>
 {
  'mandatory' =>
  {
   'siam.privilege.access_scope_id' => 1,
   'siam.privilege.type' => 1,
  },
  'contained_in' => {'SIAM::User' => 1},
  'object_ref' => {'siam.privilege.access_scope_id' => 'SIAM::AccessScope'},
  'no_children' => 1,
  'reserved_refs' => 
  {
   'siam.privilege.access_scope_id' =>
   {
    'SIAM.SCOPE.ALL.CONTRACTS' => 1,
    'SIAM.SCOPE.ALL.ATTRIBUTES' => 1,
   },
  },
 },

 'SIAM::Attribute' =>
 {
  'mandatory' =>
  {
   'siam.attribute.name' => 1,
  },
  'unique' =>
  {
   'siam.attribute.name' => 1,
  },
  'contained_in' => {'SIAM' => 1},
  'no_children' => 1,
 },


 'SIAM::Report' =>
 {
  'mandatory' =>
  {
   'siam.report.name' => 1,
   'siam.report.description' => 1,
   'siam.report.object_class' => 1,
   'siam.report.type' => 1,
   'siam.report.last_updated' => 1,
  },
  'unique' =>
  {
   'siam.report.name' => 1,
  },
 },

};
                                     
 

                                      
                 
                                     




if( defined($ENV{'SPSID_SITECONFIG'}) ) {
    require $ENV{'SPSID_SITECONFIG'};
}
else {
    require '@siteconfdir@/spsid_siteconfig.pl';
}

  

1;


# Local Variables:
# mode: cperl
# indent-tabs-mode: nil
# cperl-indent-level: 4
# cperl-continued-statement-offset: 4
# cperl-continued-brace-offset: -4
# cperl-brace-offset: 0
# cperl-label-offset: -2
# End:
